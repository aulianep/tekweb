!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Iab2:function(t,e,n){var a,i;void 0===(i="function"==typeof(a=function(){"use strict";function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){c(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,c){var l=i.URL||i.webkitURL,b=document.createElement("a");b.download=o=o||t.name||"download",b.rel="noopener","string"==typeof t?(b.href=t,b.origin===location.origin?a(b):n(b.href)?e(t,o,c):a(b,b.target="_blank")):(b.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(b.href)},4e4),setTimeout(function(){a(b)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout(function(){a(c)})}}:function(t,n,a,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var l="application/octet-stream"===t.type,b=/constructor/i.test(i.HTMLElement)||i.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||l&&b||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},u.readAsDataURL(t)}else{var d=i.URL||i.webkitURL,s=d.createObjectURL(t);c?c.location=s:location.href=s,c=null,setTimeout(function(){d.revokeObjectURL(s)},4e4)}});i.saveAs=c.saveAs=c,t.exports=c})?a.apply(e,[]):a)||(t.exports=i)},jkDv:function(e,a,i){"use strict";i.r(a),i.d(a,"AdminModule",function(){return $});var o=i("ofXK"),c=i("fXoL"),l=i("H+bZ"),b=i("tyNb"),r=i("/t3+"),u=i("bTqV"),d=i("NFeN"),s=i("XhcP"),f=i("MutI"),p=i("FKr1");function h(t,e){if(1&t&&(c.Tb(0,"mat-list-item",13),c.Tb(1,"mat-icon",14),c.xc(2),c.Sb(),c.Tb(3,"h3",15),c.xc(4),c.Sb(),c.Sb()),2&t){var n=e.$implicit;c.Cb(2),c.yc(n.icon),c.Cb(2),c.yc(n.name)}}function g(t,e){if(1&t&&(c.Tb(0,"div"),c.Tb(1,"h3",11),c.xc(2),c.Sb(),c.wc(3,h,5,2,"mat-list-item",12),c.Sb()),2&t){var n=c.ec().$implicit;c.Cb(2),c.yc(n.group),c.Cb(1),c.jc("ngForOf",n.children)}}function m(t,e){if(1&t&&(c.Tb(0,"mat-list-item",16),c.Tb(1,"mat-icon",14),c.xc(2),c.Sb(),c.Tb(3,"h3",15),c.xc(4),c.Sb(),c.Sb()),2&t){var n=c.ec().$implicit;c.Cb(2),c.yc(n.icon),c.Cb(2),c.yc(n.name)}}function v(t,e){if(1&t&&(c.Tb(0,"div"),c.wc(1,g,4,2,"div",9),c.wc(2,m,5,2,"mat-list-item",10),c.Sb()),2&t){var n=e.$implicit;c.Cb(1),c.jc("ngIf",null!=n.children),c.Cb(1),c.jc("ngIf",null==n.children)}}var T,k,S,y,x=((k=function(){function e(n,a){t(this,e),this.api=n,this.router=a,this.menu=[{name:"Dashboard",icon:"space_dashboard",url:"/admin/dashboard"},{group:"Menu Group",children:[{name:"Product",icon:"production_quantity_limits",url:"/admin/product"}]}]}return n(e,[{key:"ngOnInit",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var t=this;this.api.get("bookswithauth/status").subscribe(function(t){},function(e){t.router.navigate(["/login"])})}},{key:"logout",value:function(){confirm("Keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}]),e}()).\u0275fac=function(t){return new(t||k)(c.Nb(l.a),c.Nb(b.a))},k.\u0275cmp=c.Hb({type:k,selectors:[["app-admin"]],decls:19,vars:5,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["mat-button","",3,"click"],[1,"example-container"],["mode","side","opened","",1,"sidenav-left",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[4,"ngFor","ngForOf"],[2,"padding","20px","background-color","#ccc"],[4,"ngIf"],["routerLink","/admin/dashboard",4,"ngIf"],["matSubheader",""],["routerLink","/admin/product",4,"ngFor","ngForOf"],["routerLink","/admin/product"],["matListIcon",""],["matLine",""],["routerLink","/admin/dashboard"]],template:function(t,e){if(1&t){var n=c.Ub();c.Rb(0),c.Tb(1,"mat-toolbar",0),c.Tb(2,"button",1),c.ac("click",function(){return c.qc(n),c.oc(14).toggle()}),c.Tb(3,"mat-icon"),c.xc(4,"menu"),c.Sb(),c.Sb(),c.Tb(5,"span"),c.xc(6,"MyAngular"),c.Sb(),c.Ob(7,"div",2),c.Tb(8,"small"),c.xc(9,"Admin"),c.Sb(),c.Tb(10,"button",3),c.ac("click",function(){return e.logout()}),c.xc(11,"Logout"),c.Sb(),c.Sb(),c.Tb(12,"mat-sidenav-container",4),c.Tb(13,"mat-sidenav",5,6),c.Tb(15,"mat-nav-list"),c.wc(16,v,3,2,"div",7),c.Sb(),c.Sb(),c.Tb(17,"mat-sidenav-content",8),c.Ob(18,"router-outlet"),c.Sb(),c.Sb(),c.Qb()}2&t&&(c.Cb(13),c.jc("position","start")("fixedInViewport",!0)("fixedTopGap",65)("fixedBottomGap",0),c.Cb(3),c.jc("ngForOf",e.menu))},directives:[r.a,u.a,d.a,s.b,s.a,f.e,o.j,s.c,b.d,o.k,f.d,f.b,b.b,f.a,p.j],styles:[""]}),k),w=((T=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||T)},T.\u0275cmp=c.Hb({type:T,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Tb(0,"p"),c.xc(1,"dashboard works!"),c.Sb())},styles:[""]}),T),C=i("Iab2"),j=i("0IaG"),F=((S=function(){function e(n,a,i){t(this,e),this.api=n,this.dialogRef=a,this.dialogData=i}return n(e,[{key:"ngOnInit",value:function(){console.log(this.dialogData)}},{key:"onFileChange",value:function(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}},{key:"uploadFile",value:function(){var t=this,e=new FormData;e.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(e).subscribe(function(e){t.updateProduct(e),console.log(e)},function(e){t.loadingUpload=!1,alert("Gagal mengunggah file")})}},{key:"updateProduct",value:function(t){1==t.status?(this.updateBook(t),alert("File berhasil diunggah"),this.loadingUpload=!1,this.dialogRef.close()):alert(t.message)}},{key:"updateBook",value:function(t){this.api.put("books/"+this.dialogData.id,{url:t.url}).subscribe(function(t){console.log(t)})}}]),e}()).\u0275fac=function(t){return new(t||S)(c.Nb(l.a),c.Nb(j.f),c.Nb(j.a))},S.\u0275cmp=c.Hb({type:S,selectors:[["app-file-uploader"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-action","","align","right"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t){var n=c.Ub();c.Tb(0,"h1",0),c.xc(1,"Unggah File"),c.Sb(),c.Tb(2,"div",1),c.Tb(3,"div",2),c.ac("click",function(){return c.qc(n),c.oc(7).click()}),c.Tb(4,"span"),c.xc(5),c.Sb(),c.Sb(),c.Tb(6,"input",3,4),c.ac("change",function(t){return e.onFileChange(t)}),c.Sb(),c.Sb(),c.Tb(8,"div",5),c.Tb(9,"button",6),c.xc(10,"Batal"),c.Sb(),c.Tb(11,"button",7),c.ac("click",function(){return e.uploadFile()}),c.xc(12),c.Sb(),c.Sb()}2&t&&(c.Cb(5),c.yc(e.selectedFile?e.selectedFile.name:"Pilih File"),c.Cb(6),c.jc("disabled",e.loadingUpload),c.Cb(1),c.yc(e.loadingUpload?"uploading...":"Upload"))},directives:[j.g,j.d,u.a,j.c],styles:[""]}),S),M=i("kmnG"),I=i("qFsG"),O=i("3Pt+"),D=((y=function(){function e(n,a,i){t(this,e),this.dialogRef=n,this.data=a,this.api=i}return n(e,[{key:"ngOnInit",value:function(){}},{key:"saveData",value:function(){var t=this;this.loading=!0,null==this.data.id?this.api.post("bookswithauth",this.data).subscribe(function(e){t.dialogRef.close(e),t.loading=!1},function(e){t.loading=!1,alert("Tidak dapat menyimpan data")}):this.api.put("bookswithauth/"+this.data.id,this.data).subscribe(function(e){t.dialogRef.close(e),t.loading=!1},function(e){t.loading=!1,alert("Tidak dapat memperbarui data")})}}]),e}()).\u0275fac=function(t){return new(t||y)(c.Nb(j.f),c.Nb(j.a),c.Nb(l.a))},y.\u0275cmp=c.Hb({type:y,selectors:[["app-product-detail"]],decls:32,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-action","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(c.Tb(0,"h3",0),c.xc(1," Detail Product\n"),c.Sb(),c.Tb(2,"div",1),c.Tb(3,"mat-form-field",2),c.Tb(4,"mat-label"),c.xc(5,"Judul"),c.Sb(),c.Tb(6,"input",3),c.ac("ngModelChange",function(t){return e.data.title=t}),c.Sb(),c.Sb(),c.Tb(7,"mat-form-field",2),c.Tb(8,"mat-label"),c.xc(9,"Penulis"),c.Sb(),c.Tb(10,"input",3),c.ac("ngModelChange",function(t){return e.data.author=t}),c.Sb(),c.Sb(),c.Tb(11,"mat-form-field",2),c.Tb(12,"mat-label"),c.xc(13,"Penerbit"),c.Sb(),c.Tb(14,"input",3),c.ac("ngModelChange",function(t){return e.data.publisher=t}),c.Sb(),c.Sb(),c.Tb(15,"mat-form-field",2),c.Tb(16,"mat-label"),c.xc(17,"Tahun Terbit"),c.Sb(),c.Tb(18,"input",3),c.ac("ngModelChange",function(t){return e.data.year=t}),c.Sb(),c.Sb(),c.Tb(19,"mat-form-field",2),c.Tb(20,"mat-label"),c.xc(21,"ISBN"),c.Sb(),c.Tb(22,"input",3),c.ac("ngModelChange",function(t){return e.data.isbn=t}),c.Sb(),c.Sb(),c.Tb(23,"mat-form-field",2),c.Tb(24,"mat-label"),c.xc(25,"Harga"),c.Sb(),c.Tb(26,"input",3),c.ac("ngModelChange",function(t){return e.data.price=t}),c.Sb(),c.Sb(),c.Sb(),c.Tb(27,"div",4),c.Tb(28,"button",5),c.xc(29,"Batal"),c.Sb(),c.Tb(30,"button",6),c.ac("click",function(){return e.saveData()}),c.xc(31),c.Sb(),c.Sb()),2&t&&(c.Cb(6),c.jc("ngModel",e.data.title),c.Cb(4),c.jc("ngModel",e.data.author),c.Cb(4),c.jc("ngModel",e.data.publisher),c.Cb(4),c.jc("ngModel",e.data.year),c.Cb(4),c.jc("ngModel",e.data.isbn),c.Cb(4),c.jc("ngModel",e.data.price),c.Cb(4),c.jc("disabled",e.loading),c.Cb(1),c.yc(e.loading?"Menyimpan..":"Simpan"))},directives:[j.g,j.d,M.b,M.e,I.b,O.c,O.i,O.k,u.a,j.c],styles:[""]}),y),L=i("Xa2L"),U=i("Wp6s");function P(t,e){1&t&&(c.Tb(0,"div",2),c.Ob(1,"mat-spinner"),c.Sb())}function R(t,e){if(1&t){var n=c.Ub();c.Tb(0,"button",12),c.ac("click",function(){c.qc(n);var t=c.ec().$implicit;return c.ec(2).downloadFile(t)}),c.Tb(1,"mat-icon"),c.xc(2,"download"),c.Sb(),c.Sb()}}function B(t,e){if(1&t){var n=c.Ub();c.Tb(0,"tr"),c.Tb(1,"td"),c.wc(2,R,3,0,"button",9),c.Sb(),c.Tb(3,"td"),c.xc(4),c.Sb(),c.Tb(5,"td"),c.xc(6),c.Sb(),c.Tb(7,"td"),c.xc(8),c.Sb(),c.Tb(9,"td"),c.xc(10),c.Sb(),c.Tb(11,"td"),c.xc(12),c.Sb(),c.Tb(13,"td"),c.xc(14),c.Sb(),c.Tb(15,"td"),c.xc(16),c.Sb(),c.Tb(17,"td",7),c.Tb(18,"button",10),c.ac("click",function(){c.qc(n);var t=e.$implicit;return c.ec(2).Uploadfile(t)}),c.xc(19,"Upload"),c.Sb(),c.Tb(20,"button",10),c.ac("click",function(){c.qc(n);var t=e.$implicit,a=e.index;return c.ec(2).ProductDetail(t,a)}),c.xc(21,"Edit"),c.Sb(),c.Tb(22,"button",11),c.ac("click",function(){c.qc(n);var t=e.$implicit,a=e.index;return c.ec(2).DeleteProduct(t.id,a)}),c.xc(23),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=e.$implicit,i=e.index,o=c.ec(2);c.Cb(2),c.jc("ngIf",""!=a.url),c.Cb(2),c.yc(i+1),c.Cb(2),c.yc(a.title),c.Cb(2),c.yc(a.author),c.Cb(2),c.yc(a.publisher),c.Cb(2),c.yc(a.year),c.Cb(2),c.yc(a.isbn),c.Cb(2),c.yc(a.price),c.Cb(6),c.jc("disabled",o.loadingDelete[i]),c.Cb(1),c.yc(o.loadingDelete[i]?"Menghapus..":"Delete")}}function N(t,e){if(1&t){var n=c.Ub();c.Tb(0,"mat-card"),c.Tb(1,"mat-card-header"),c.Tb(2,"mat-card-title"),c.xc(3),c.Sb(),c.Sb(),c.Tb(4,"mat-card-content"),c.Tb(5,"div",3),c.Ob(6,"span",4),c.Tb(7,"button",5),c.ac("click",function(){return c.qc(n),c.ec().ProductDetail({},-1)}),c.xc(8,"Tambah Product"),c.Sb(),c.Sb(),c.Tb(9,"table",6),c.Tb(10,"thead"),c.Ob(11,"th"),c.Tb(12,"th"),c.xc(13,"No"),c.Sb(),c.Tb(14,"th"),c.xc(15,"Judul"),c.Sb(),c.Tb(16,"th"),c.xc(17,"Penulis"),c.Sb(),c.Tb(18,"th"),c.xc(19,"Penerbit"),c.Sb(),c.Tb(20,"th"),c.xc(21,"Tahun Terbit"),c.Sb(),c.Tb(22,"th"),c.xc(23,"ISBN"),c.Sb(),c.Tb(24,"th"),c.xc(25,"Harga"),c.Sb(),c.Ob(26,"th",7),c.Sb(),c.Tb(27,"tbody"),c.wc(28,B,24,10,"tr",8),c.Sb(),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=c.ec();c.Cb(3),c.yc(a.title),c.Cb(25),c.jc("ngForOf",a.books)}}var A,E,H=((A=function(){function e(n,a){t(this,e),this.dialog=n,this.api=a,this.book={},this.books=[],this.loadingDelete={}}return n(e,[{key:"ngOnInit",value:function(){this.title="Product",this.book={title:"angular pertama",author:"aulia",publisher:"ada aja",year:2020,isbn:"244242",price:3e6},this.getBooks()}},{key:"getBooks",value:function(){var t=this;this.loading=!0,this.api.get("bookswithauth").subscribe(function(e){t.books=e,t.loading=!1},function(e){t.loading=!1})}},{key:"ProductDetail",value:function(t,e){var n=this;this.dialog.open(D,{width:"400px",data:t}).afterClosed().subscribe(function(a){a&&(-1==e?n.books.push(a):n.books[e]=t)})}},{key:"DeleteProduct",value:function(t,e){var n=this;confirm("Delete item?")&&(this.loadingDelete[e]=!0),this.api.delete("books/"+t).subscribe(function(t){n.books.splice(e,1),n.loadingDelete[e]=!1},function(t){n.loadingDelete[e]=!1,alert("Tidak dapat menghapus data")})}},{key:"Uploadfile",value:function(t){this.dialog.open(F,{width:"500px",data:t}).afterClosed().subscribe(function(t){})}},{key:"downloadFile",value:function(t){C.saveAs("http://api.sunhouse.co.id/bookstore/"+t.url)}}]),e}()).\u0275fac=function(t){return new(t||A)(c.Nb(j.b),c.Nb(l.a))},A.\u0275cmp=c.Hb({type:A,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","accent",3,"disabled","click"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(c.wc(0,P,2,0,"div",0),c.wc(1,N,29,2,"mat-card",1)),2&t&&(c.jc("ngIf",e.loading),c.Cb(1),c.jc("ngIf",!e.loading))},directives:[o.k,L.b,U.a,U.c,U.e,U.b,u.a,o.j,d.a],styles:[""]}),A),q=i("hctd"),G=[{path:"",component:x,children:[{path:"dashboard",component:w},{path:"product",component:H},{path:"",pathMatch:"full",redirectTo:"/admin/dashboard"}]}],$=((E=function e(){t(this,e)}).\u0275fac=function(t){return new(t||E)},E.\u0275mod=c.Lb({type:E}),E.\u0275inj=c.Kb({imports:[[o.c,b.c.forChild(G),q.a,O.e]]}),E)}}])}();